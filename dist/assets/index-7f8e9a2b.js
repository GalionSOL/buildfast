import{a as e,b as t,c as n,d as o,L as c}from"https://unpkg.com/@solana/web3.js@1.91.1/lib/index.iife.min.js";import{B as r}from"https://cdnjs.cloudflare.com/ajax/libs/buffer/6.0.3/buffer.min.js";window.Buffer=r;const i=new e("https://api.devnet.solana.com","confirmed"),s=new t("5gXJ8Q6nQdMZmWBAhj6Y2T7T7Z7Z6Y6X5gXJ8Q6nQdMZ");let a=!1,d;document.getElementById("connect-wallet").addEventListener("click",(async()=>{if(window.solana&&window.solana.isPhantom)try{const e=await window.solana.connect();d=e.publicKey,a=!0,console.log("Connected:",d.toString()),alert("Connected: "+d.toString())}catch(e){console.error("Connect failed:",e),alert("Failed to connect: "+e.message)}else alert("Please install Phantom Wallet!")})),document.getElementById("mint-nft").addEventListener("click",(async()=>{if(!a||!d)return void alert("Please connect your wallet first!");const e=new t("5YTG39q61XTnsTWGcj7gAXfrcuoFjvb78yCNRE7NvNEs"),r=1,l=.1*c;try{console.log("Minting started...");const t=new n({keys:[{pubkey:d,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],programId:s,data:r.from([1,...new Uint8Array(8).fill(0).map(((e,t)=>(r>>>(8*t))&255)))}),c=new o().add(t),{blockhash:a}=await i.getLatestBlockhash();c.recentBlockhash=a,c.feePayer=d,console.log("Signing transaction...");const u=await window.solana.signTransaction(c);console.log("Sending transaction...");const f=await i.sendRawTransaction(u.serialize());console.log("Confirming transaction..."),await i.confirmTransaction(f),alert("Minted 1 NFT! Signature: "+f),console.log("Mint success:",f)}catch(e){console.error("Mint failed:",e),alert("Mint failed: "+e.message)}}));
